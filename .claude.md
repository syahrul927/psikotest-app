# Project Guidelines - T3 Stack Architecture

## Tech Stack Defaults
- **Framework**: Next.js 15 with App Router
- **Language**: TypeScript with strict mode
- **API**: tRPC for type-safe APIs
- **Database**: Prisma ORM with PostgreSQL
- **Auth**: NextAuth.js with JWT tokens
- **UI**: Shadcn UI components and Tailwind CSS v4
- **Forms**: React Hook Form + Zod validation

## Directory Structure Conventions
- **Features**: Organize by feature in `src/features/`
- **Components**: Shared components in `src/components/`
- **Hooks**: Follow pattern `use-[action]-[entity]` in `src/hooks/`
- **Utilities**: Pure functions in `src/lib/`

## Naming Conventions
- **Files**: kebab-case (`use-save-invoice.ts`, `invoice-form.tsx`)
- **Components**: PascalCase (`InvoiceForm`, `DataTable`)
- **Hooks**: camelCase starting with `use` (`useGetAllInvoices`)

## File Structure Patterns
Each feature follows:
```
features/[feature-name]/
├── [feature-name]-form/        # Create/edit forms
├── [feature-name]-table/       # List views with CRUD
└── [feature-name]-summary/     # Dashboard components
```

## Hook Patterns
- **Queries**: `useGet[Entity]` for fetching
- **Mutations**: `useSave[Entity]`, `useDelete[Entity]`, `useUpdate[Entity]`
- **Optimistic**: Include `onSuccessCallback` parameter for mutations

## Form Standards
- **Validation**: Zod schemas per feature
- **Structure**: `formSchema`, `defaultValues`, `useForm` setup
- **State**: `form`, `mutate`, `editingId` as common variables
- **Callbacks**: `onSuccessCallback` parameter pattern

## API Patterns
- **Routers**: Feature-based organization
- **Procedures**: `publicProcedure`, `protectedProcedure`, `guestProcedure`
- **CRUD**: Standard CRUD operations per entity

## Building & Development
- **Dev**: `yarn dev`
- **DB Studio**: `yarn db:studio`
- **Format**: `yarn format:write`
- **Check**: `yarn check` (lint + type check)

## Styling Guidelines
- **Components**: Use shadcn UI primitives
- **Classes**: Tailwind CSS utility-first
- **Variables**: CSS variables for theming
- **Consistency**: Follow existing color schemes

## Type Safety
- **Generate**: Use Prisma and tRPC types
- **Schemas**: Zod validation for all inputs
- **Responses**: Type-safe API responses

Always follow these patterns unless explicitly requested otherwise.